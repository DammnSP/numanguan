ğŸ’ í‚¤ì›Œë“œì™€ ì‚¬ì£¼íŒ”ìë¥¼ í†µí•œ ë°ì´íŒ… ì•± í”„ë¡œì íŠ¸[NUMANGUAN]

[NUMANGUAN ë°”ë¡œê°€ê¸°](Site ì£¼ì†Œ)

[íŒ€ ë…¸ì…˜ ë°”ë¡œê°€ê¸°](Site ì£¼ì†Œ) 

### ëª©ì°¨

<hr>

[0. íŒ€ ì†Œê°œ](#0.-íŒ€-ì†Œê°œ)

[1. ì„œë¹„ìŠ¤ ì†Œê°œ](#1.-ì„œë¹„ìŠ¤-ì†Œê°œ)

[2. ê¸°ìˆ ìŠ¤íƒ](#2.-ê¸°ìˆ ìŠ¤íƒ)

[3. ë°ì´í„° ë¶„ì„ ê³¼ì •](#3.-ë°ì´í„°-ë¶„ì„-ê³¼ì •)

[4. ì•„í‚¤í…ì²˜ ìƒì„¸](#4.-ì•„í‚¤í…ì²˜-ìƒì„¸)

[5. ë ˆì´ì•„ì›ƒ ë° ë””ìì¸](#5.-ë ˆì´ì•„ì›ƒ-ë°-ë””ìì¸)

<hr>
## 0. íŒ€ ì†Œê°œ

![team_all](https://user-images.githubusercontent.com/87697789/133199767-a79c700f-d1dc-4f9d-9167-4aedb3a782f5.png)

* **íŒ€ì¥** ì„œìœ ë¦¬ : ì´ë¯¸ì§€ ë°ì´í„°ë¶„ì„ / ì•±êµ¬í˜„ / ë””ìì¸
* íŒ€ì› ì„±ìˆ˜í˜„ : í”„ë¡œê·¸ë¨ í†µí•©ê´€ë¦¬ / ì´ë¯¸ì§€ ë°ì´í„°ë¶„ì„ / ì„œë²„êµ¬ì„± ë° ê´€ë¦¬ 
* íŒ€ì› í•œì†” : í”„ë¡œì íŠ¸ ì„¤ê³„ / í…ìŠ¤íŠ¸ ë°ì´í„°ë¶„ì„/ ì›¹êµ¬í˜„

## 1. ì„œë¹„ìŠ¤ ì†Œê°œ

> ë”¥ëŸ¬ë‹ì„ ê¸°ë°˜ìœ¼ë¡œ ê³ ê°ì˜ ì§ì„ ì°¾ì•„ì£¼ëŠ” ë°ì´íŒ…ì•± ì„œë¹„ìŠ¤

í¥ë¯¸ë¡œìš´ í‚¤ì›Œë“œì™€ ì‚¬ì£¼íŒ”ìì— ëŒ€í•œ ì •ë³´ë¥¼ í†µí•´ 2040 ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•˜ê¸°ì— ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•Šê³ , ì§ì„ ì°¾ëŠ” ì¬ë¯¸ë¥¼ ì£¼ëŠ” ì•± ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. 

[ì•±êµ¬í˜„ : NUMANGUAN ì‚¬ì´íŠ¸ ë§¨ ì•ë¶€ë¶„ ë„£ê¸°]

### 1.1. íƒ€ê²Ÿ ê³ ê°êµ°

* **2040 ëˆ„êµ¬ë‚˜**

  ìƒëŒ€ë°©ì˜ ì™¸ëª¨(ì´ë¯¸ì§€)ì™€ ì„±ê²©(í…ìŠ¤íŠ¸)ì™€ ê°™ì€ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì§ì„ ì°¾ê³  ì‹¶ì€ 2040

### 1.2. ì£¼ìš” ê¸°ëŠ¥

#### 1.2.1. ìƒëŒ€ë°©ì˜ ì™¸ëª¨(ì´ë¯¸ì§€ì™€) ì„±ê²©(í…ìŠ¤íŠ¸)ì— ë”°ë¥¸ ì •ë³´ì œê³µ

1. ìì‹ ì˜ ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ í‚¤ì›Œë“œì— ë”°ë¥¸ ìƒëŒ€ë°©ì˜ ì™¸ëª¨ì™€ ì„±ê²©ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[ì•±êµ¬í˜„ : ê²°ê³¼ì™€ë©´ ì¤‘ ì´ë¯¸ì§€ì™€ í‚¤ì›Œë“œ ê´€ë ¨ ì‚¬ì§„ë„£ê¸°]

#### 1.2.2. ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

1. **1000ê°œ**ì˜ ì˜í™” ìƒì„¸ ì •ë³´ë¥¼ ì—´ëŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[ì•±êµ¬í˜„ : ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ê´€ë ¨ ì‚¬ì§„ ë„£ê¸°]

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1. ë°ì´í„° ìˆ˜ì§‘ ë° ì²˜ë¦¬

> ì´ë¯¸ì§€ ë°ì´í„°

* Selenium
: ì›¹ì•±ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ë° ì´ìš©í•˜ëŠ” í”„ë ˆì„ ì›Œí¬

* BeatifulSoup
: HTMLì •ë³´ë¡œ ë¶€í„° ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ì‰½ê²Œ, ë¹„ìŠ·í•œ ë¶„ë¥˜ì˜ ë°ì´í„°ë³„ë¡œ ë‚˜ëˆ„ì–´ì£¼ëŠ”(parsing) íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

* Keras (Tendorflow)
: ë”¥ëŸ¬ë‹ ëª¨ë¸ì„ ë¹Œë“œí•˜ê³  í•™ìŠµì‹œí‚¤ê¸° ìœ„í•œ Tendorflowì˜ ìƒìœ„ìˆ˜ì¤€ API

* OpenCV (land mark ì–¼êµ´ìš”ì†Œ)
: ì‚¬ëŒ ì–¼êµ´ì˜ íŠ¹ì§•ì ì„ ì°ì–´ë‚´ëŠ” ë°©ë²•

> í…ìŠ¤íŠ¸ ë°ì´í„°

> ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

### 2.2. ë°±ì—”ë“œ

* Python 3.6.8

* FastAPI
  
  <img src = "https://user-images.githubusercontent.com/87697789/133209834-80b424b2-1742-4682-b520-7758bb332237.png" width="30%" height="40%">

  > í˜„ëŒ€ì ì´ê³ , ë¹ ë¥´ë©°(ê³ ì„±ëŠ¥), íŒŒì´ì¬ í‘œì¤€ íƒ€ì… íŒíŠ¸ì— ê¸°ì´ˆí•œ Python3.6+ì˜ APIë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•œ ì›¹ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.

  1. ë¹ ë¦„ (Starletteê³¼ Pydantic ë•ë¶„ì—) NodeJS ë° Goì™€ ëŒ€ë“±í•  ì •ë„ë¡œ ë§¤ìš° ë†’ì€ ì„±ëŠ¥ (ì‚¬ìš©ê°€ëŠ¥í•œ ê°€ì¥ ë¹ ë¥¸ íŒŒì´ì¬ í”„ë ˆì„ì›Œí¬ ì¤‘ í•˜ë‚˜)
  2. ë¹ ë¥¸ ì½”ë“œ ì‘ì„± : ì•½ 200%ì—ì„œ 300%ê¹Œì§€ ê¸°ëŠ¥ ê°œë°œ ì†ë„ ì¦ê°€
  3. ì ì€ ë²„ê·¸ : ì‚¬ëŒ(ê°œë°œì)ì— ì˜í•œ ì—ëŸ¬ ì•½ 40% ê°ì†Œ
  4. í‘œì¤€ ê¸°ë°˜ : APIì— ëŒ€í•œ (ì™„ì „íˆ í˜¸í™˜ë˜ëŠ”) ê°œë°©í˜• í‘œì¤€ê¸°ë°˜

* Mariadb

### 2.3. í”„ë¡ íŠ¸ì—”ë“œ

* HTML/CSS/JS

  ì´ë¯¸ì§€ ë„£ê¸°

  1. HTML ì„¤ëª…
  2. CSS ì„¤ëª…
  3. JS ì„¤ëª…


### 2.4. ë°°í¬

* AWS EC2
* Docker

### 2.4. í”„ë¡œì íŠ¸ ê´€ë¦¬

* Git
* Google driver

## 3. ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„ ê³¼ì •

### 3.1. ì´ë¯¸ì§€ ë°ì´í„° 

#### 3.1.1. ì´ë¯¸ì§€ ë°ì´í„° ìˆ˜ì§‘

- ì´ë¯¸ì§€ ë°ì´í„° ìˆ˜ì§‘ì€ êµ¬ê¸€ì„ ê¸°ë°˜ìœ¼ë¡œ ì—°ì˜ˆì¸ì˜ ì´ë¦„ì´ ì €ì¥ëœ ì—‘ì…€íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¨í›„ í¬ë¡¤ë§ì„ ì‹œí–‰í•˜ì˜€ìŠµë‹ˆë‹¤. 
- ì¶”ê°€ì ìœ¼ë¡œ ë¶€ì¡±í•œ ì´ë¯¸ì§€ ë°ì´í„°ëŠ” "ì¦ëª…ì‚¬ì§„" and "ì—¬ê¶Œì‚¬ì§„" ê²€ìƒ‰ì–´ë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ ì´ë¯¸ì§€ ë°ì´í„° ìˆ˜ì§‘ì„ ìœ„í•´ í¬ë¡¤ë§í•œ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.

```python

# ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸°
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import time
import urllib
import time

# êµ¬ê¸€ì´ë¯¸ì§€ ê²€ìƒ‰í•´ì„œ í•´ë‹¹ ì‚¬ì§„ ê°€ì ¸ì˜¤ê¸°
driver = webdriver.Chrome()
driver.get("https://www.google.co.kr/imghp?hl=ko&authuser=0&ogbl")
for j in name[0:2100]:
    elem = driver.find_element_by_name("q")
    elem.clear()
    elem.send_keys(j)
    elem.send_keys(Keys.RETURN)

    images = driver.find_elements_by_css_selector(".rg_i.Q4LuWd")

    count = 1

    for i in images[1:11]: # 1ë²ˆê³¼ 2ë²ˆ ì‚¬ì§„ì´ ê³µí†µëœ ì‚¬ì§„ì´ë¯€ë¡œ, 2ë²ˆ ë¶€í„° ì‹¤í–‰
        try:
            i.click()
            time.sleep(1)
            img_url = driver.find_element_by_css_selector(".n3VNCb").get_attribute("src")
            urllib.request.urlretrieve(img_url, j + str(count) + ".jpg")
            count = count + 1
        except:
            pass
    
driver.close() # ì°½ ë‹«ê¸°
```

#### 3.1.2. ì´ë¯¸ì§€ ë°ì´í„° ì „ì²˜ë¦¬ ë° êµ°ì§‘í™”

- ì´ë¯¸ì§€ ë°ì´í„° ìˆ˜ì§‘ì€ êµ¬ê¸€ì„ ê¸°ë°˜ìœ¼ë¡œ ì—°ì˜ˆì¸ì˜ ì´ë¦„ì´ ì €ì¥ëœ ì—‘ì…€íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¨í›„ í¬ë¡¤ë§ì„ ì‹œí–‰í•˜ì˜€ìŠµë‹ˆë‹¤. 
- ì¶”ê°€ì ìœ¼ë¡œ ë¶€ì¡±í•œ ì´ë¯¸ì§€ ë°ì´í„°ëŠ” "ì¦ëª…ì‚¬ì§„" and "ì—¬ê¶Œì‚¬ì§„" ê²€ìƒ‰ì–´ë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ ì´ë¯¸ì§€ ë°ì´í„° ì „ì²˜ë¦¬ ë° êµ°ì§‘í™”ì— ëŒ€í•œ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.

```python
from sklearn.cluster import KMeans

# train setìœ¼ë¡œ KMeans í•™ìŠµ
clf = KMeans(n_clusters = 13)
clf.fit(man_train_encodings)

# 13ê°œì˜ classë¡œ ë‚˜ë‰˜ì—ˆëŠ”ì§€ í™•ì¸
np.unique(clf.labels_)
```

#### 3.1.3. ì´ë¯¸ì§€ ë°ì´í„° ëª¨ë¸ë§

- ì´ë¯¸ì§€ ë°ì´í„° ìˆ˜ì§‘ì€ êµ¬ê¸€ì„ ê¸°ë°˜ìœ¼ë¡œ ì—°ì˜ˆì¸ì˜ ì´ë¦„ì´ ì €ì¥ëœ ì—‘ì…€íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¨í›„ í¬ë¡¤ë§ì„ ì‹œí–‰í•˜ì˜€ìŠµë‹ˆë‹¤. 
- ì¶”ê°€ì ìœ¼ë¡œ ë¶€ì¡±í•œ ì´ë¯¸ì§€ ë°ì´í„°ëŠ” "ì¦ëª…ì‚¬ì§„" and "ì—¬ê¶Œì‚¬ì§„" ê²€ìƒ‰ì–´ë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ ì´ë¯¸ì§€ ë°ì´í„° ëª¨ë¸ë§ì— ëŒ€í•œ ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.

```python
import matplotlib.pyplot as plt
from keras import models
from keras import layers

model = models.Sequential()

# hidden layerì— í•©ì„±ê³±ê³¼ ë§¥ìŠ¤ í’€ë§ ì„¤ì •
model.add(layers.Conv2D(256, (3, 3), activation='relu', input_shape=(150, 150, 3)))
model.add(layers.MaxPooling2D(2, 2))
model.add(layers.Conv2D(128, (3, 3), activation='relu'))
model.add(layers.MaxPooling2D(2, 2))
model.add(layers.Conv2D(64, (3, 3), activation='relu'))
model.add(layers.MaxPooling2D(2, 2))


# 1ì°¨ì›ìœ¼ë¡œ ë³€í™˜
model.add(layers.Flatten())

# ì…ë ¥ ë°ì´í„°ì— 50%ì˜ ë…¸ë“œë¥¼ ë¬´ì‘ìœ„ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ë§‰ëŠ”ë‹¤.
model.add(layers.Dropout(0.5))

# ê²°ê³¼ì–»ê¸°
# classë¥¼ 13ê°œë¡œ ì •í•˜ì˜€ìœ¼ë¯€ë¡œ softmax ì„¤ì •
model.add(layers.Dense(512, activation='relu'))
model.add(layers.Dense(13, activation='softmax'))
```









![pivot](images/p.png)

- ì°¨ì›ì¶•ì†Œë¥¼ ìœ„í•´ scikit learnì˜ TruncatedSVD APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì°¨ì›ì„ 12ì°¨ì›ìœ¼ë¡œ ì¶•ì†Œì‹œì¼°ìŠµë‹ˆë‹¤.

```python
SVD = TruncatedSVD(n_components=12)
SVD_matrix = SVD.fit_transform(review_pivot)
```

- ì°¨ì›ì´ ì¶•ì†Œëœ í–‰ë ¬ë¡œ ëª¨ë“   ìŒì— ëŒ€í•œ í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

```python
corr = np.corrcoef(SVD_matrix)
```

- í•œ í–¥ìˆ˜ì˜ ê°’ì´ ì…ë ¥ì´ ë˜ë©´ ìƒê´€ì ìˆ˜ê°€ 0.9 ì´ìƒ 1 ë¯¸ë§Œì¸ í–¥ìˆ˜ 10ê°œê°€ ì¶”ì²œì´ ë©ë‹ˆë‹¤.
- í•´ë‹¹ í–¥ìˆ˜ ì¶”ì²œì„œë¹„ìŠ¤ì—ëŠ” ë¦¬ë·°ê°€ ë“¤ì–´ìˆëŠ” í–¥ìˆ˜ì— í•œí•´ì„œ ìµœëŒ€ 10ê°œì˜ ì¶”ì²œ í–¥ìˆ˜ê°€ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ [Basenotes.net](http://www.basenotes.net/)ì—ì„œ í¬ë¡¤ë§í•œ ë°ì´í„° ì˜ˆì‹œì…ë‹ˆë‹¤.

```json
// í–¥ìˆ˜ ë°ì´í„° ì˜ˆì‹œ
{
    "pk": 26120000,
    "model": "perfumes.perfume",
    "fields": {
        "name": "Ambre Canelle",
        "launch_date": "1949-01-01",
        "thumbnail": "http://www.basenotes.net/photos/products/st/26120000.jpg",
        "gender": 0,
        "top_notes": [224, 480],
        "heart_notes": [224, 259, 510, 785],
        "base_notes": [28, 624],
        "seasons": [3, 4],
        "availability": false,
        "brand": 749,
        "categories": [3, 6],
        "price": 169.99
    }
}
```

```json
// ë…¸íŠ¸ ë°ì´í„° ì˜ˆì‹œ
{
    "pk": 1,
    "model": "perfumes.note",
    "fields": {
        "name": "absinthe",
        "kor_name": "ì••ìƒíŠ¸"
    }
}
```

```json
// ë¦¬ë·° ë°ì´í„° ì˜ˆì‹œ
{
    "pk": 1,
    "model": "perfumes.review",
    "fields": {
        "content": "This is a grown-up powdery perfume.  Very feminine.  The powdery vibe changes mood as it mellows on the skin.  In the middle there is a smoky-musky, almost bitter vanilla.  Towards the \"end\" a heliotropic floral with a tangy citrus accord.  Sweet Dreams is a good name for this.  It describes it well.\n\r\nLongevity is outstanding.  Sillage is better than moderate.",
        "rate": 7,
        "created_at": "2017-09-02 00:00:00",
        "user": 1,
        "perfume": 26149998
    }
}
```

## 4. ì•„í‚¤í…ì²˜ ìƒì„¸

![System architecture](images/system_architecture.png)

## 5. ë ˆì´ì•„ì›ƒ ë° ë””ìì¸


